Описание кода:
Инициализация и настройки:

API_TOKEN: Замените на ваш токен телеграм-бота.
PYANNOTE_AUDIO_AUTH: Установите переменную окружения с вашим токеном Hugging Face для доступа к модели диаризации.
Основные функции бота:

/start: Приветственное сообщение и отображение главного меню.
Принять образец голоса: Пользователь вводит имя и фамилию, затем отправляет голосовое сообщение. Голосовые характеристики сохраняются.
Загрузить аудиофайл совещания: Бот принимает аудиофайл совещания (желательно в формате WAV для совместимости с pyannote.audio).
Получить протокол совещания: Бот выполняет диаризацию, распознавание речи, сопоставляет говорящих с пользователями и генерирует протокол.
Диаризация и распознавание:

diarize_audio: Использует pyannote.audio для разделения аудио по говорящим.
transcribe_and_identify_speakers: Для каждого сегмента выполняет распознавание речи и сопоставляет голос с образцами пользователей.
extract_voice_features: Извлекает MFCC-признаки из аудиосегмента для сравнения голосов.
Генерация протокола:

generate_meeting_protocol: Формирует текстовый протокол с именами говорящих и таймстемпами.
Дополнительные настройки и рекомендации:
Формат аудиофайлов: Для лучшей совместимости используйте аудиофайлы в формате WAV с частотой дискретизации 16kHz и моно-каналом.
Качество аудио: Для точной диаризации и распознавания речи рекомендуется использовать аудио хорошего качества без значительного уровня шума.
Ограничения: Точность распознавания и идентификации голосов может зависеть от многих факторов, включая качество аудио, количество говорящих, пересечение речи и т.д.
Установка и получение токенов:
Получение API-токена для телеграм-бота:

В Telegram найдите бота BotFather.
Отправьте команду /newbot и следуйте инструкциям.
Получение Hugging Face токена:

Зарегистрируйтесь на Hugging Face.
Перейдите в настройки профиля и создайте новый Access Token.
Установка необходимых библиотек:
bash
Копировать код
pip install aiogram librosa numpy scipy pydub speech_recognition pyannote.audio
Примечание: Установка pyannote.audio может потребовать дополнительной настройки и установки зависимостей, таких как torch и torchaudio. Установите их перед установкой pyannote.audio:

bash
Копировать код
pip install torch torchaudio --extra-index-url https://download.pytorch.org/whl/cu116  # Замените на вашу версию CUDA или используйте CPU-версию
Возможные улучшения:
Обработка ошибок: Добавить более подробную обработку возможных ошибок, связанных с загрузкой файлов, распознаванием речи и т.д.
Асинхронная обработка: При обработке больших аудиофайлов бот может занять много времени. Рассмотрите возможность использования очередей задач или фоновых процессов.
Интерфейс пользователя: Улучшить взаимодействие с пользователем, добавив больше сообщений о прогрессе обработки.
Важно:
Конфиденциальность данных: Обратите внимание на хранение и обработку аудиоданных пользователей, особенно если планируется использование в продакшене. Убедитесь в соответствии с законодательством о защите данных.
Тестирование:
Тестовые данные: Перед использованием бота рекомендуется протестировать его с различными аудиофайлами и образцами голосов, чтобы убедиться в корректности работы.
